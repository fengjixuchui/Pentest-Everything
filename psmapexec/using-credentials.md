# Using Credentials

Most methods within PsMapExec supports using various credential material.&#x20;

## Domain Authentication

### CurrentUser

This switch allows for the current user context to be used across authentication.&#x20;

```powershell
PsMapExec -Targets All -Method WMI -CurrentUser -Command ps
```

### Ticket

A base64 encoded Kerberos ticket can be supplied to the `-Ticket` parameter either directly into the console or can be loaded from file.

the username switch does not need to be provided as a valid kerberos ticket will contain the intended username for the ticket anyway.

```powershell
PsMapExec -Targets All -Method WMI -Ticket "doIhsj..."
PsMapExec -Targets All -Method WinRM -Ticket "C:\ticket.txt"
```

### Username and Hash

A username and hash combination can also be provided for authentication. The following hashes are currently accepted:

* RC4 / NT - 32 character hash
* AES256 HMAC - 64 character hash

{% code overflow="wrap" %}
```powershell
PsMapExec -Targets All -Method WMI  -Command "net user" -Username [User] -Hash [Hash]
```
{% endcode %}

### Username and Password

Of course a tradational username and password combination is also supported. If the provided password contains a "$" ensure the password is wrapped in single quotes.

{% code overflow="wrap" %}
```powershell
PsMapExec -Targets All -Method WinRM -Username [User] -Password [Password]
```
{% endcode %}

## Local Authentication

Currenty local account authentication only supports a username and password combination for the WMI protocol. The `-LocalAuth` switch is also required here.

{% code overflow="wrap" %}
```powershell
PsMapExec -Targets All -Method WMI -LocalAuth -Username Administrator -Password [Password]
```
{% endcode %}
