# eKeys

Executes Mimikatz's sekurlsa::ekeys on each target system to retrieve Kerberos encryption keys.

For each system output is stored in $pwd\PME\eKeys\\

### **Supported Methods**

* WMI
* WinRM
* PsExec

### Optional Parameters

<table><thead><tr><th width="165">Parameter</th><th width="119.33333333333331">Value</th><th>Description</th></tr></thead><tbody><tr><td>-Option</td><td>Parse</td><td>Parses output from all targets systems and identifies accounts that belong to privileged groups. Removes redundant information.</td></tr><tr><td>-ShowOutput</td><td>N/A</td><td>Displays each targets output to the console</td></tr></tbody></table>

### Usage

{% code overflow="wrap" %}
```
# Standard execution
PsMapExec -Username [User] -Password [Pass] -targets [All] -Module eKeys -Method [Method] -ShowOutput
```
{% endcode %}

<figure><img src="../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

{% code overflow="wrap" %}
```powershell
# With Parsing
PsMapExec -Username [User] -Password [Pass] -targets [All] -Module eKeys -Method [Method] -Option Parse
```
{% endcode %}

The parsing option will collect the results from each successful system and produce a clean output which contains credential information for each account on each system. The results are then parsed further and interesting accounts are highlighted.

<figure><img src="../../.gitbook/assets/image (10).png" alt=""><figcaption></figcaption></figure>
